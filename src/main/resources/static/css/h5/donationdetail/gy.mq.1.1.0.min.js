!function(t,e){"function"==typeof define&&define.amd?define(function(){return e(t)}):e(t)}(this,function(t){var e=function(){function e(t){return null==t?String(t):J[Q.call(t)]||"object"}function n(t){return"function"==e(t)}function r(t){return null!=t&&t==t.window}function i(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function o(t){return"object"==e(t)}function a(t){return o(t)&&!r(t)&&Object.getPrototypeOf(t)==Object.prototype}function c(t){var e=!!t&&"length"in t&&t.length,n=j.type(t);return"function"!=n&&!r(t)&&("array"==n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function s(t){return q.call(t,function(t){return null!=t})}function u(t){return t.length>0?j.fn.concat.apply([],t):t}function l(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function f(t){return t in P?P[t]:P[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function p(t,e){return"number"!=typeof e||M[l(t)]?e:e+"px"}function d(t){var e,n;return E[t]||(e=I.createElement(t),I.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),E[t]=n),E[t]}function h(t){return"children"in t?Y.call(t.children):j.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function g(t,e){var n,r=t?t.length:0;for(n=0;r>n;n++)this[n]=t[n];this.length=r,this.selector=e||""}function m(t,e,n){for(T in e)n&&(a(e[T])||tt(e[T]))?(a(e[T])&&!a(t[T])&&(t[T]={}),tt(e[T])&&!tt(t[T])&&(t[T]=[]),m(t[T],e[T],n)):e[T]!==S&&(t[T]=e[T])}function y(t,e){return null==e?j(t):j(t).filter(e)}function v(t,e,r,i){return n(e)?e.call(t,r,i):e}function _(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function b(t,e){var n=t.className||"",r=n&&n.baseVal!==S;return e===S?r?n.baseVal:n:void(r?n.baseVal=e:t.className=e)}function w(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?j.parseJSON(t):t):t}catch(e){return t}}function x(t,e){e(t);for(var n=0,r=t.childNodes.length;r>n;n++)x(t.childNodes[n],e)}var S,T,j,C,O,k,N=[],G=N.concat,q=N.filter,Y=N.slice,I=t.document,E={},P={},M={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},R=/^\s*<(\w+|!)[^>]*>/,U=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,A=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,$=/^(?:body|html)$/i,D=/([A-Z])/g,F=["val","css","html","text","data","width","height","offset"],B=["after","prepend","before","append"],L=I.createElement("table"),z=I.createElement("tr"),H={tr:I.createElement("tbody"),tbody:L,thead:L,tfoot:L,td:z,th:z,"*":I.createElement("div")},W=/complete|loaded|interactive/,Z=/^[\w-]*$/,J={},Q=J.toString,V={},X=I.createElement("div"),K={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},tt=Array.isArray||function(t){return t instanceof Array};return V.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r,i=t.parentNode,o=!i;return o&&(i=X).appendChild(t),r=~V.qsa(i,e).indexOf(t),o&&X.removeChild(t),r},O=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},k=function(t){return q.call(t,function(e,n){return t.indexOf(e)==n})},V.fragment=function(t,e,n){var r,i,o;return U.test(t)&&(r=j(I.createElement(RegExp.$1))),r||(t.replace&&(t=t.replace(A,"<$1></$2>")),e===S&&(e=R.test(t)&&RegExp.$1),e in H||(e="*"),o=H[e],o.innerHTML=""+t,r=j.each(Y.call(o.childNodes),function(){o.removeChild(this)})),a(n)&&(i=j(r),j.each(n,function(t,e){F.indexOf(t)>-1?i[t](e):i.attr(t,e)})),r},V.Z=function(t,e){return new g(t,e)},V.isZ=function(t){return t instanceof V.Z},V.init=function(t,e){var r;if(!t)return V.Z();if("string"==typeof t)if("<"==(t=t.trim())[0]&&R.test(t))r=V.fragment(t,RegExp.$1,e),t=null;else{if(e!==S)return j(e).find(t);r=V.qsa(I,t)}else{if(n(t))return j(I).ready(t);if(V.isZ(t))return t;if(tt(t))r=s(t);else if(o(t))r=[t],t=null;else if(R.test(t))r=V.fragment(t.trim(),RegExp.$1,e),t=null;else{if(e!==S)return j(e).find(t);r=V.qsa(I,t)}}return V.Z(r,t)},j=function(t,e){return V.init(t,e)},j.extend=function(t){var e,n=Y.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){m(t,n,e)}),t},V.qsa=function(t,e){var n,r="#"==e[0],i=!r&&"."==e[0],o=r||i?e.slice(1):e,a=Z.test(o);return t.getElementById&&a&&r?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:Y.call(a&&!r&&t.getElementsByClassName?i?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))},j.contains=I.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},j.type=e,j.isFunction=n,j.isWindow=r,j.isArray=tt,j.isPlainObject=a,j.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},j.isNumeric=function(t){var e=Number(t),n=typeof t;return null!=t&&"boolean"!=n&&("string"!=n||t.length)&&!isNaN(e)&&isFinite(e)||!1},j.inArray=function(t,e,n){return N.indexOf.call(e,t,n)},j.camelCase=O,j.trim=function(t){return null==t?"":String.prototype.trim.call(t)},j.uuid=0,j.support={},j.expr={},j.noop=function(){},j.map=function(t,e){var n,r,i,o=[];if(c(t))for(r=0;r<t.length;r++)null!=(n=e(t[r],r))&&o.push(n);else for(i in t)null!=(n=e(t[i],i))&&o.push(n);return u(o)},j.each=function(t,e){var n,r;if(c(t)){for(n=0;n<t.length;n++)if(!1===e.call(t[n],n,t[n]))return t}else for(r in t)if(!1===e.call(t[r],r,t[r]))return t;return t},j.grep=function(t,e){return q.call(t,e)},t.JSON&&(j.parseJSON=JSON.parse),j.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){J["[object "+e+"]"]=e.toLowerCase()}),j.fn={constructor:V.Z,length:0,forEach:N.forEach,reduce:N.reduce,push:N.push,sort:N.sort,splice:N.splice,indexOf:N.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=V.isZ(e)?e.toArray():e;return G.apply(V.isZ(this)?this.toArray():this,n)},map:function(t){return j(j.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return j(Y.apply(this,arguments))},ready:function(t){return W.test(I.readyState)&&I.body?t(j):I.addEventListener("DOMContentLoaded",function(){t(j)},!1),this},get:function(t){return t===S?Y.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return N.every.call(this,function(e,n){return!1!==t.call(e,n,e)}),this},filter:function(t){return n(t)?this.not(this.not(t)):j(q.call(this,function(e){return V.matches(e,t)}))},add:function(t,e){return j(k(this.concat(j(t,e))))},is:function(t){return this.length>0&&V.matches(this[0],t)},not:function(t){var e=[];if(n(t)&&t.call!==S)this.each(function(n){t.call(this,n)||e.push(this)});else{var r="string"==typeof t?this.filter(t):c(t)&&n(t.item)?Y.call(t):j(t);this.forEach(function(t){r.indexOf(t)<0&&e.push(t)})}return j(e)},has:function(t){return this.filter(function(){return o(t)?j.contains(this,t):j(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!o(t)?t:j(t)},last:function(){var t=this[this.length-1];return t&&!o(t)?t:j(t)},find:function(t){var e=this;return t?"object"==typeof t?j(t).filter(function(){var t=this;return N.some.call(e,function(e){return j.contains(e,t)})}):1==this.length?j(V.qsa(this[0],t)):this.map(function(){return V.qsa(this,t)}):j()},closest:function(t,e){var n=[],r="object"==typeof t&&j(t);return this.each(function(o,a){for(;a&&!(r?r.indexOf(a)>=0:V.matches(a,t));)a=a!==e&&!i(a)&&a.parentNode;a&&n.indexOf(a)<0&&n.push(a)}),j(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=j.map(n,function(t){return(t=t.parentNode)&&!i(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return y(e,t)},parent:function(t){return y(k(this.pluck("parentNode")),t)},children:function(t){return y(this.map(function(){return h(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||Y.call(this.childNodes)})},siblings:function(t){return y(this.map(function(t,e){return q.call(h(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return j.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=d(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=n(t);if(this[0]&&!e)var r=j(t).get(0),i=r.parentNode||this.length>1;return this.each(function(n){j(this).wrapAll(e?t.call(this,n):i?r.cloneNode(!0):r)})},wrapAll:function(t){if(this[0]){j(this[0]).before(t=j(t));for(var e;(e=t.children()).length;)t=e.first();j(t).append(this)}return this},wrapInner:function(t){var e=n(t);return this.each(function(n){var r=j(this),i=r.contents(),o=e?t.call(this,n):t;i.length?i.wrapAll(o):r.append(o)})},unwrap:function(){return this.parent().each(function(){j(this).replaceWith(j(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=j(this);(t===S?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return j(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return j(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;j(this).empty().append(v(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=v(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(o(t))for(T in t)_(this,T,t[T]);else _(this,t,v(this,e,n,this.getAttribute(t)))}):0 in this&&1==this[0].nodeType&&null!=(n=this[0].getAttribute(t))?n:S},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){_(this,t)},this)})},prop:function(t,e){return t=K[t]||t,1 in arguments?this.each(function(n){this[t]=v(this,e,n,this[t])}):this[0]&&this[0][t]},removeProp:function(t){return t=K[t]||t,this.each(function(){delete this[t]})},data:function(t,e){var n="data-"+t.replace(D,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,e):this.attr(n);return null!==r?w(r):S},val:function(t){return 0 in arguments?(null==t&&(t=""),this.each(function(e){this.value=v(this,t,e,this.value)})):this[0]&&(this[0].multiple?j(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=j(this),r=v(this,e,t,n.offset()),i=n.offsetParent().offset(),o={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(!this.length)return null;if(I.documentElement!==this[0]&&!j.contains(I.documentElement,this[0]))return{top:0,left:0};var n=this[0].getBoundingClientRect();return{left:n.left+t.pageXOffset,top:n.top+t.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}},css:function(t,n){if(arguments.length<2){var r=this[0];if("string"==typeof t){if(!r)return;return r.style[O(t)]||getComputedStyle(r,"").getPropertyValue(t)}if(tt(t)){if(!r)return;var i={},o=getComputedStyle(r,"");return j.each(t,function(t,e){i[e]=r.style[O(e)]||o.getPropertyValue(e)}),i}}var a="";if("string"==e(t))n||0===n?a=l(t)+":"+p(t,n):this.each(function(){this.style.removeProperty(l(t))});else for(T in t)t[T]||0===t[T]?a+=l(T)+":"+p(T,t[T])+";":this.each(function(){this.style.removeProperty(l(T))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(j(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&N.some.call(this,function(t){return this.test(b(t))},f(t))},addClass:function(t){return t?this.each(function(e){if("className"in this){C=[];var n=b(this);v(this,t,e,n).split(/\s+/g).forEach(function(t){j(this).hasClass(t)||C.push(t)},this),C.length&&b(this,n+(n?" ":"")+C.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===S)return b(this,"");C=b(this),v(this,t,e,C).split(/\s+/g).forEach(function(t){C=C.replace(f(t)," ")}),b(this,C.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var r=j(this);v(this,t,n,b(this)).split(/\s+/g).forEach(function(t){(e===S?!r.hasClass(t):e)?r.addClass(t):r.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===S?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===S?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),r=$.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(j(t).css("margin-top"))||0,n.left-=parseFloat(j(t).css("margin-left"))||0,r.top+=parseFloat(j(e[0]).css("border-top-width"))||0,r.left+=parseFloat(j(e[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||I.body;t&&!$.test(t.nodeName)&&"static"==j(t).css("position");)t=t.offsetParent;return t})}},j.fn.detach=j.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});j.fn[t]=function(n){var o,a=this[0];return n===S?r(a)?a["inner"+e]:i(a)?a.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){(a=j(this)).css(t,v(this,n,e,a[t]()))})}}),B.forEach(function(n,r){var i=r%2;j.fn[n]=function(){var n,o,a=j.map(arguments,function(t){var r=[];return"array"==(n=e(t))?(t.forEach(function(t){return t.nodeType!==S?r.push(t):j.zepto.isZ(t)?r=r.concat(t.get()):void(r=r.concat(V.fragment(t)))}),r):"object"==n||null==t?t:V.fragment(t)}),c=this.length>1;return a.length<1?this:this.each(function(e,n){o=i?n:n.parentNode,n=0==r?n.nextSibling:1==r?n.firstChild:2==r?n:null;var s=j.contains(I.documentElement,o);a.forEach(function(e){if(c)e=e.cloneNode(!0);else if(!o)return j(e).remove();o.insertBefore(e,n),s&&x(e,function(e){if(!(null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src)){var n=e.ownerDocument?e.ownerDocument.defaultView:t;n.eval.call(n,e.innerHTML)}})})})},j.fn[i?n+"To":"insert"+(r?"Before":"After")]=function(t){return j(t)[n](this),this}}),V.Z.prototype=g.prototype=j.fn,V.uniq=k,V.deserializeValue=w,j.zepto=V,j}();return t.Zepto=e,void 0===t.$&&(t.$=e),function(e){function n(t){return t._zid||(t._zid=d++)}function r(t,e,r,a){if((e=i(e)).ns)var c=o(e.ns);return(y[n(t)]||[]).filter(function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||c.test(t.ns))&&(!r||n(t.fn)===n(r))&&(!a||t.sel==a)})}function i(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function o(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function a(t,e){return t.del&&!_&&t.e in b||!!e}function c(t){return w[t]||_&&b[t]||t}function s(t,r,o,s,u,f,d){var h=n(t),g=y[h]||(y[h]=[]);r.split(/\s/).forEach(function(n){if("ready"==n)return e(document).ready(o);var r=i(n);r.fn=o,r.sel=u,r.e in w&&(o=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?r.fn.apply(this,arguments):void 0}),r.del=f;var h=f||o;r.proxy=function(e){if(!(e=l(e)).isImmediatePropagationStopped()){e.data=s;var n=h.apply(t,e._args==p?[e]:[e].concat(e._args));return!1===n&&(e.preventDefault(),e.stopPropagation()),n}},r.i=g.length,g.push(r),"addEventListener"in t&&t.addEventListener(c(r.e),r.proxy,a(r,d))})}function u(t,e,i,o,s){var u=n(t);(e||"").split(/\s/).forEach(function(e){r(t,e,i,o).forEach(function(e){delete y[u][e.i],"removeEventListener"in t&&t.removeEventListener(c(e.e),e.proxy,a(e,s))})})}function l(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(j,function(e,r){var i=n[e];t[e]=function(){return this[r]=x,i&&i.apply(n,arguments)},t[r]=S}),t.timeStamp||(t.timeStamp=Date.now()),(n.defaultPrevented!==p?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=x)),t}function f(t){var e,n={originalEvent:t};for(e in t)T.test(e)||t[e]===p||(n[e]=t[e]);return l(n,t)}var p,d=1,h=Array.prototype.slice,g=e.isFunction,m=function(t){return"string"==typeof t},y={},v={},_="onfocusin"in t,b={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",e.event={add:s,remove:u},e.proxy=function(t,r){var i=2 in arguments&&h.call(arguments,2);if(g(t)){var o=function(){return t.apply(r,i?i.concat(h.call(arguments)):arguments)};return o._zid=n(t),o}if(m(r))return i?(i.unshift(t[r],t),e.proxy.apply(null,i)):e.proxy(t[r],t);throw new TypeError("expected function")},e.fn.bind=function(t,e,n){return this.on(t,e,n)},e.fn.unbind=function(t,e){return this.off(t,e)},e.fn.one=function(t,e,n,r){return this.on(t,e,n,r,1)};var x=function(){return!0},S=function(){return!1},T=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,j={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(t,e,n){return this.on(e,t,n)},e.fn.undelegate=function(t,e,n){return this.off(e,t,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,r,i,o){var a,c,l=this;return t&&!m(t)?(e.each(t,function(t,e){l.on(t,n,r,e,o)}),l):(m(n)||g(i)||!1===i||(i=r,r=n,n=p),(i===p||!1===r)&&(i=r,r=p),!1===i&&(i=S),l.each(function(l,p){o&&(a=function(t){return u(p,t.type,i),i.apply(this,arguments)}),n&&(c=function(t){var r,o=e(t.target).closest(n,p).get(0);return o&&o!==p?(r=e.extend(f(t),{currentTarget:o,liveFired:p}),(a||i).apply(o,[r].concat(h.call(arguments,1)))):void 0}),s(p,t,i,r,n,c||a)}))},e.fn.off=function(t,n,r){var i=this;return t&&!m(t)?(e.each(t,function(t,e){i.off(t,n,e)}),i):(m(n)||g(r)||!1===r||(r=n,n=p),!1===r&&(r=S),i.each(function(){u(this,t,r,n)}))},e.fn.trigger=function(t,n){return t=m(t)||e.isPlainObject(t)?e.Event(t):l(t),t._args=n,this.each(function(){t.type in b&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,n){var i,o;return this.each(function(a,c){(i=f(m(t)?e.Event(t):t))._args=n,i.target=c,e.each(r(c,t.type||t),function(t,e){return o=e.proxy(i),!i.isImmediatePropagationStopped()&&void 0})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(t,e){m(t)||(e=t,t=e.type);var n=document.createEvent(v[t]||"Events"),r=!0;if(e)for(var i in e)"bubbles"==i?r=!!e[i]:n[i]=e[i];return n.initEvent(t,r,!0),l(n)}}(e),function(e){function n(t,n,r){var i=e.Event(n);return e(t).trigger(i,r),!i.isDefaultPrevented()}function r(t,e,r,i){return t.global?n(e||b,r,i):void 0}function i(t){t.global&&0==e.active++&&r(t,null,"ajaxStart")}function o(t){t.global&&!--e.active&&r(t,null,"ajaxStop")}function a(t,e){var n=e.context;return!1!==e.beforeSend.call(n,t,e)&&!1!==r(e,n,"ajaxBeforeSend",[t,e])&&void r(e,n,"ajaxSend",[t,e])}function c(t,e,n,i){var o=n.context,a="success";n.success.call(o,t,a,e),i&&i.resolveWith(o,[t,a,e]),r(n,o,"ajaxSuccess",[e,n,t]),u(a,e,n)}function s(t,e,n,i,o){var a=i.context;i.error.call(a,n,e,t),o&&o.rejectWith(a,[n,e,t]),r(i,a,"ajaxError",[n,i,t||e]),u(e,n,i)}function u(t,e,n){var i=n.context;n.complete.call(i,e,t),r(n,i,"ajaxComplete",[e,n]),o(n)}function l(t,e,n){if(n.dataFilter==f)return t;var r=n.context;return n.dataFilter.call(r,t,e)}function f(){}function p(t){return t&&(t=t.split(";",2)[0]),t&&(t==j?"html":t==T?"json":x.test(t)?"script":S.test(t)&&"xml")||"text"}function d(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function h(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()&&"jsonp"!=t.dataType||(t.url=d(t.url,t.data),t.data=void 0)}function g(t,n,r,i){return e.isFunction(n)&&(i=r,r=n,n=void 0),e.isFunction(r)||(i=r,r=void 0),{url:t,data:n,success:r,dataType:i}}function m(t,n,r,i){var o,a=e.isArray(n),c=e.isPlainObject(n);e.each(n,function(n,s){o=e.type(s),i&&(n=r?i:i+"["+(c||"object"==o||"array"==o?n:"")+"]"),!i&&a?t.add(s.name,s.value):"array"==o||!r&&"object"==o?m(t,s,r,n):t.add(n,s)})}var y,v,_=+new Date,b=t.document,w=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,x=/^(?:text|application)\/javascript/i,S=/^(?:text|application)\/xml/i,T="application/json",j="text/html",C=/^\s*$/,O=b.createElement("a");O.href=t.location.href,e.active=0,e.ajaxJSONP=function(n,r){if(!("type"in n))return e.ajax(n);var i,o,u=n.jsonpCallback,l=(e.isFunction(u)?u():u)||"Zepto"+_++,f=b.createElement("script"),p=t[l],d=function(t){e(f).triggerHandler("error",t||"abort")},h={abort:d};return r&&r.promise(h),e(f).on("load error",function(a,u){clearTimeout(o),e(f).off().remove(),"error"!=a.type&&i?c(i[0],h,n,r):s(null,u||"error",h,n,r),t[l]=p,i&&e.isFunction(p)&&p(i[0]),p=i=void 0}),!1===a(h,n)?(d("abort"),h):(t[l]=function(){i=arguments},f.src=n.url.replace(/\?(.+)=\?/,"?$1="+l),b.head.appendChild(f),n.timeout>0&&(o=setTimeout(function(){d("timeout")},n.timeout)),h)},e.ajaxSettings={type:"GET",beforeSend:f,success:f,error:f,complete:f,context:null,global:!0,xhr:function(){return new t.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:T,xml:"application/xml, text/xml",html:j,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:f},e.ajax=function(n){var r,o,u=e.extend({},n||{}),g=e.Deferred&&e.Deferred();for(y in e.ajaxSettings)void 0===u[y]&&(u[y]=e.ajaxSettings[y]);i(u),u.crossDomain||(r=b.createElement("a"),r.href=u.url,r.href=r.href,u.crossDomain=O.protocol+"//"+O.host!=r.protocol+"//"+r.host),u.url||(u.url=t.location.toString()),(o=u.url.indexOf("#"))>-1&&(u.url=u.url.slice(0,o)),h(u);var m=u.dataType,_=/\?.+=\?/.test(u.url);if(_&&(m="jsonp"),!1!==u.cache&&(n&&!0===n.cache||"script"!=m&&"jsonp"!=m)||(u.url=d(u.url,"_="+Date.now())),"jsonp"==m)return _||(u.url=d(u.url,u.jsonp?u.jsonp+"=?":!1===u.jsonp?"":"callback=?")),e.ajaxJSONP(u,g);var w,x=u.accepts[m],S={},T=function(t,e){S[t.toLowerCase()]=[t,e]},j=/^([\w-]+:)\/\//.test(u.url)?RegExp.$1:t.location.protocol,k=u.xhr(),N=k.setRequestHeader;if(g&&g.promise(k),u.crossDomain||T("X-Requested-With","XMLHttpRequest"),T("Accept",x||"*/*"),(x=u.mimeType||x)&&(x.indexOf(",")>-1&&(x=x.split(",",2)[0]),k.overrideMimeType&&k.overrideMimeType(x)),(u.contentType||!1!==u.contentType&&u.data&&"GET"!=u.type.toUpperCase())&&T("Content-Type",u.contentType||"application/x-www-form-urlencoded"),u.headers)for(v in u.headers)T(v,u.headers[v]);if(k.setRequestHeader=T,k.onreadystatechange=function(){if(4==k.readyState){k.onreadystatechange=f,clearTimeout(w);var t,n=!1;if(k.status>=200&&k.status<300||304==k.status||0==k.status&&"file:"==j){if(m=m||p(u.mimeType||k.getResponseHeader("content-type")),"arraybuffer"==k.responseType||"blob"==k.responseType)t=k.response;else{t=k.responseText;try{t=l(t,m,u),"script"==m?(0,eval)(t):"xml"==m?t=k.responseXML:"json"==m&&(t=C.test(t)?null:e.parseJSON(t))}catch(t){n=t}if(n)return s(n,"parsererror",k,u,g)}c(t,k,u,g)}else s(k.statusText||null,k.status?"error":"abort",k,u,g)}},!1===a(k,u))return k.abort(),s(null,"abort",k,u,g),k;var G=!("async"in u)||u.async;if(k.open(u.type,u.url,G,u.username,u.password),u.xhrFields)for(v in u.xhrFields)k[v]=u.xhrFields[v];for(v in S)N.apply(k,S[v]);return u.timeout>0&&(w=setTimeout(function(){k.onreadystatechange=f,k.abort(),s(null,"timeout",k,u,g)},u.timeout)),k.send(u.data?u.data:null),k},e.get=function(){return e.ajax(g.apply(null,arguments))},e.post=function(){var t=g.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=g.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,r){if(!this.length)return this;var i,o=this,a=t.split(/\s/),c=g(t,n,r),s=c.success;return a.length>1&&(c.url=a[0],i=a[1]),c.success=function(t){o.html(i?e("<div>").html(t.replace(w,"")).find(i):t),s&&s.apply(o,arguments)},e.ajax(c),this};var k=encodeURIComponent;e.param=function(t,n){var r=[];return r.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(k(t)+"="+k(n))},m(r,t,n),r.join("&").replace(/%20/g,"+")}}(e),function(t){t.fn.serializeArray=function(){var e,n,r=[],i=function(t){return t.forEach?t.forEach(i):void r.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(r,o){n=o.type,(e=o.name)&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&i(t(o).val())}),r},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(e),function(){try{getComputedStyle(void 0)}catch(n){var e=getComputedStyle;t.getComputedStyle=function(t,n){try{return e(t,n)}catch(t){return null}}}}(),e});var GY=function(t,e){function n(t){return!r(t)&&!a(t)&&"object"==typeof t}function r(t){return i(t)||c(t)||s(t)||"boolean"==typeof t||"number"==typeof t&&isNaN(t)||null==t}function i(t){return"string"==typeof t}function o(t){return e&&"function"==typeof e.isFunction?e.isFunction(t):"function"==typeof t||t instanceof Function}function a(t){return e&&e.isArray?e.isArray(t):"array"==typeof t||t instanceof Array}function c(t){return e&&e.isNumeric?e.isNumeric(t):!isNaN(t)&&t-0==t}function s(t){return void 0==t}function u(t){return!t||(!(!a(t)||t.length)||(n(t)?!_get_obj_keys(t).length:!t))}t.Protocol="https:"==document.location.protocol?"https://":"http://",t.require||(t.require=function(t){return GY[t]||null});return{extend:function(t,n){if(i(t)){if(-1!=t.indexOf(".")){var r,a,c=t.split(".");c.length;for(var s in c)0==s?(r=c[s],GY[r]||(GY[r]={})):(a=c[s],GY[r][a]?e.extend(GY[r][a],n):GY[r][a]=n)}else GY[t]?e.extend(GY[t],n):GY[t]=n;n.__init&&o(n.__init)&&n.__init()}},rateControll:function(t,e){return t._h=0,function(){var n=arguments;t._h&&(clearTimeout(t._h),t._h=0),t._h=setTimeout(function(){t.apply(null,n),t._h=0},1e3*e)}},is_fun:o,is_arr:a,is_obj:n,forEach:function(t,e){if(u(t)||!o(e))throw new Error("Empty object!");if(a(t)){var r=!1;t.forEach&&t.forEach(function(n,i){r||e(n,i,t)!={}||(r=!0)})}else if(n(t))for(var i in t)if(e(t[i],i,t)=={})break}}}(window,window.Zepto||window.jQuery);!function(t){function e(t){return(t=(t||"")+"")&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),t}function n(t){t=t||"";var e=arguments,n=e.length;return t=t.replace(/\{(\d+)\}/g,function(t,r){return r-=0,isNaN(r)||r<=0||r>n?t:e[r]})}function r(t,e){for(var n=0,r=0;r<e;)r+=o(t,n),n++;return r>e+.1?n-1:n}function i(t,e,n){var r,i=0;for(r=e;r<t.length&&!((i+=o(t,r))>n);++r);return r}function o(t,e){return t.charCodeAt(e)>127||94==t.charCodeAt(e)?1:.5}!String.prototype.htmlSafe&&(String.prototype.htmlSafe=function(){return e(this)}),!String.prototype.format&&(String.prototype.format=function(){var t=Array.prototype.slice.call(arguments,0,arguments.length);return t.unshift(this),n.apply(null,t)}),GY.extend("Util.string",{toObj:function(t,e){var n,r,i,o={};i=(n=(t=t.replace(/\?/g,"&")).split("&")).length;for(var a=0;a<i;++a)n[a].indexOf("=")<0||(o[(r=n[a].split("="))[0]]=e?decodeURIComponent(r[1]):r[1]);return o},toSafe:function(t,n){return n?e(t):t.replace(/&amp;/g,"").replace(/&gt;/,"").replace(/&lt;/g,"").replace(/quot;/g,"").replace(/#39;/g,"").replace(/&/g,"").replace(/>/g,"").replace(/</g,"").replace(/"/g,"").replace(/'/g,"").replace(/%3C/g,"").replace(/%3c/g,"").replace(/%3E/g,"").replace(/%3e/g,"").replace(/%+\/v8/g,"")},htmlSafe:e,format:n,getCStrLen:function(t){for(var e=0,n=0;n<t.length;++n)e+=t.charCodeAt(n)>127||94==t.charCodeAt(n)?2:1;return e},getSubCStr:function(t,e,n){var o=r(t,e);return n?t.substr(o,i(t,o,n)-o+1):t.substr(o)},getSubCString:function(t,e,n){var o=r(t,e);return n?t.substring(o,i(t,o,n-e)):t.substring(o)}})}(),function(t){function e(t,e,n){function r(t,e){var n=Math.max(o(t),o(e));return(t*n+e*n)/n==t+e?t+e:Math.round(t*n+e*n)/n}function i(t){return Number(t.toString().replace(".",""))}function o(t){var e=(""+t).split(".")[1];return Math.pow(10,e?e.length:0)}switch(n){case"+":return r(t,e);case"-":return function(t,e){return r(t,-e)}(t,e);case"*":return function(t,e){return i(t)*i(e)/(o(t)*o(e))}(t,e);case"/":return function(t,e){return i(t)/i(e)*(o(e)/o(t))}(t,e)}}GY.extend("Util.number",{format:function(t){var e=parseInt(t).toString(),n=e.length;if(n<=3)return e;var r=n%3;return r>0?e.slice(0,r)+","+e.slice(r,n).match(/\d{3}/g).join(","):e.slice(r,n).match(/\d{3}/g).join(",")},safeMath:e,safeToFixed:function(t,n){var r=Math.pow(10,n),i=""+parseInt(e(t,r,"*")+.5)/r,o=i.split(".")[1];return o?o.length<n?i.concat("0"):i:0==n?i:i.concat(".",new Array(n+1).join("0"))},toChiness:function(t){if(t=parseFloat(t),isNaN(t))return console.error("TypeError in Number to Chiness."),!1;if(t>99999.99)return console.error("RangeError in Number to Chiness."),!1;var e,n,r=String(t),i=r.indexOf(".");i>-1?(e=r.slice(0,i),n=r.slice(i+1)):(e=r,n="");for(var o=["","十","百","千","万"],a=["零","一","二","三","四","五","六","七","八","九"],c="",s=0;s<e.length;++s)parseInt(e[s])?c+=a[parseInt(e[s])]+o[e.length-s-1]:c+="零";n&&(c+="点",c+=a[parseInt(n[0])],c+=n[1]?a[parseInt(n[1])]:"");var u=encodeURIComponent("点"),l=encodeURIComponent("零"),f=new RegExp("(("+l+")+)","g"),p=new RegExp("(?!"+u+")"+l+"$"),d=encodeURIComponent(c).replace(f,l).replace(encodeURIComponent("零点"),u).replace(p,"");return 0==d.indexOf(u)&&(d=l+d),decodeURIComponent(d)}})}(),function(t){function e(t){var n,r,i,o,a;switch(typeof t){case"string":return'"'+t.replace(/(["\\])/g,"\\$1")+'"';case"array":return"["+t.map(e).join(",")+"]";case"object":if(t instanceof Array){for(n=[],r=t.length,i=0;r>i;i++)n.push(e(t[i]));return"["+n.join(",")+"]"}if(null==t)return"null";o=[];for(a in t)o.push(e(a)+":"+e(t[a]));return"{"+o.join(",")+"}";case"number":case!1:return t}}function n(){var t,e,r,c,s,u,l=!1,f=arguments[0]||{},p=arguments.length;"object"!=typeof f&&(f={}),"boolean"==typeof arguments[p-1]&&(l=arguments[p-1]);for(var d=1;d<p;++d)if(null!=(s=arguments[d]))for(t in s)if(s.hasOwnProperty(t)){if(u=f[t],e=s[t],f==e)continue;l&&e&&((r=i(e,"Array"))||o(e))?(r?(r=!1,c=u&&a(u)?u:[]):c=u&&o(u)?u:{},f[t]=n(c,u,!0)):void 0!=e&&(f[t]=e)}return f}function r(t){var e,n,i=a(t)?[]:{};if(o(t))for(e in t)t.hasOwnProperty(e)&&t[e]&&(o(n=t[e])?i[e]=r(n):i[e]=n);return i}function i(t,e){return Object.prototype.toString.call(t)==="[object "+(e||"Object")+"]"}function o(t){return"object"===typeof t&&!!t}function a(t){return Array.isArray(t)||i(t,"Array")}GY.extend("Util.object",{clone:r,extend:n,toStr:function(t,e){var n,r="";for(n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&(r+=n+"="+(e?encodeURIComponent(t[n]):t[n])+"&");return r.slice(0,r.length-1)},toString:e,isObject:o,isObjectByType:i,isEmptyObject:function(t){if(o(t))for(var e in t)return!1;return!0},isArray:a,includes:function(t,e){if(a(t))return t.indexOf(e)>-1;if(!o(e))return!1;var n=!0;for(var r in e)if(e.hasOwnProperty(r)&&t[r]!=e[r]){n=!1;break}return n}})}(),function(t,e,n){function r(t,e,n){if(!t)return document.cookie;n=n||{};var r=t+"="+encodeURIComponent(e);if("number"==typeof n.expires){var i=new Date;i.setTime(i.getTime()+864e5*n.expires),n.expires=i}return this[t]||this.length++,this[t]=e,document.cookie=[r,n.expires?"; expires="+n.expires:"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure="+n.secure:""].join(""),document.cookie}function i(t){if(t)for(var e=document.cookie.split("; "),n=0;n<e.length;++n){var r=e[n].split("=");if(r[0]==t)return this[t]?this[t]=r[1]:(this[t]=r[1],this.length++),decodeURIComponent(r[1])}}function o(t,e,n){if(t){var r=t+"="+encodeURIComponent("undefined");r+="; expires="+new Date(1970).toGMTString(),e&&(r+="; domain="+e),n&&(r+="; path="+n),document.cookie=r,"length"!==t&&(delete this[t],this.length--)}}function a(t,e){localStorage.setItem(t,e)}function c(t){return localStorage.getItem(t)}function s(t){localStorage.removeItem(t)}var u=["decodeURIComponent","decodeURI","unescape"],l=localStorage||sessionStorage;GY.extend("Util.cookie",function(){var t={},e=document.cookie.split("; ");if(Object.defineProperty(t,"set",{enumerable:!1,writable:!0,configurable:!1,value:r}),Object.defineProperty(t,"get",{enumerable:!1,writable:!0,configurable:!1,value:i}),Object.defineProperty(t,"del",{enumerable:!1,writable:!0,configurable:!1,value:o}),Object.defineProperty(t,"length",{enumerable:!1,writable:!0,configurable:!1,value:0}),e[0]){for(var n=e.length,a=0;a<n;++a){var c=e[a].split("=");for(var s in u){try{t[c[0]]=window[u[s]](c[1])}catch(t){}if(t[c[0]])break}t[c[0]]||(t[c[0]]=c[1])}t.length=n}return t}()),GY.extend("Util.localStorage",{set:a,get:c,del:s}),GY.extend("Util",{setStorage:function(t,e){a(t,e),GY.Util.cookie.set(t,e)},getStorage:function(t){return c(t)||GY.Util.cookie.get(t)},delStorage:function(t){s(t),GY.Util.cookie.del(t)},storage:function(t,e,n){var r=(new Date).getTime();if(void 0==e){var i;try{i=JSON.parse(l.getItem(t)||"null")}catch(t){i=null}return!i||i.e<r?(l.removeItem(t),null):i.d}var o=r+(n||864e5);l.setItem(t,JSON.stringify({e:o,d:e}))}})}(0,0,window.Zepto||window.jQuery),function(t){function e(t,e){"string"==typeof t&&(t=t.replace(/-/g,"/")),t instanceof Date||(t=new Date(t)),e||(e="yyyy-MM-dd hh:mm:ss");var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),"S+":t.getMilliseconds()};/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e}GY.extend("Util.time",{formatDate:e,diffDate:function(t,e,n){"string"==typeof t&&(t=t.replace(/-/g,"/")),"string"==typeof e&&(e=e.replace(/-/g,"/"));var r=new Date(t),i=new Date(e);if(parseInt(i-r)<0){var o=r;r=i,i=o}switch(n){case"u":return parseInt(i-r);case"s":return parseInt((i-r)/1e3);case"m":return parseInt((i-r)/6e4);case"h":return parseInt((i-r)/36e5);case"d":return parseInt((i-r)/864e5);case"w":return parseInt((i-r)/6048e5);case"M":return i.getMonth()+1+12*(i.getFullYear()-r.getFullYear())-(r.getMonth()+1);case"y":return i.getFullYear()-r.getFullYear()}},smartDiffDate:function(t,e){"string"==typeof t&&(t=t.replace(/-/g,"/")),"string"==typeof e&&(e=e.replace(/-/g,"/"));var n=new Date(t),r=new Date(e);if(parseInt(r-n)<0){var i=n;n=r,r=i}var o=parseInt(r-n),a={n:0,u:"ms"};return o%1e3&&0==parseInt(o/1e3)?(a.u="ms",a.n=o,a):(o=~~(o/=1e3),a.u="s",a.n=o,0==parseInt(o/60)?(a.u="s",a.n=o,a):(o=~~(o/=60),a.u="m",a.n=o,0==parseInt(o/60)?(a.u="m",a.n=o,a):(o=~~(o/=60),a.u="h",a.n=o,0==parseInt(o/24)?(a.u="h",a.n=o,a):(o=~~(o/=24),a.u="d",a.n=o,r.getMonth()+1+12*(r.getFullYear()-n.getFullYear())-(n.getMonth()+1)>0?(o=r.getMonth()+1+12*(r.getFullYear()-n.getFullYear())-(n.getMonth()+1),a.u="M",a.n=o,r.getFullYear()-n.getFullYear()>0?(o=r.getFullYear()-n.getFullYear(),a.u="y",a.n=o,a):a):a))))},diffTimeFromNow:function(t,e){"string"==typeof t&&(t=t.replace(/-/g,"/"));for(var n=(e=e||window.op_time||"")?new Date(e):new Date,r=new Date(t),i=Math.abs(n-r),o=[1e3,6e4,36e5,864e5],a=["刚刚"," 秒前"," 分钟前"," 小时前"," 天前"],c=0;c<o.length;++c)if(i<o[c])return 0==c?a[0]:~~(i/o[c-1])+a[c];var s=n.getFullYear()-r.getFullYear(),u=n.getMonth()-r.getMonth();if(s>=0){if(console.log("xxxx---\x3e",t),u<0){if(0==s)return t;u=12+u,s--}var l=n.getDate()-r.getDate();return u>0&&l<0&&u--,0==u&&0==s?Math.abs(~~(i/o[c-1]))+a[c]:s?s+"年前":u+"个月前"}return t},unixToDate:function(t,n,r){return n?(!r&&(t+"").length<=10&&(t*=1e3),e(new Date(t),n)):new Date(t)},dateToUnix:function(t){return Math.round(new Date(t).getTime()/1e3)}})}(),function(t,e){var n=function(){var t=function(){};return t.prototype=GY,new t}(),r={safe:function(t){return(t||"").replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")}},i=function(){var t={},e=function(i,o,a,c,s){var u="",l=i,f=c||String.fromCharCode(60)+String.fromCharCode(37),p=s||String.fromCharCode(37)+String.fromCharCode(62),d=void 0==a||!!a,h=[],g=null;if(-1!=i.indexOf(f))u=i;else if(!d||!(g=t[i])){var m=document.getElementById(i);if(m)try{u=m.innerHTML,h.push(m),m=null}catch(t){console.error(t.stack||t)}else d||(g=t[i])}if(!u&&!g)return"";if(!g){seperAR=f.replace(/([\\\{\}\[\]])/g,"\\$1"),seperBR=p.replace(/([\\\{\}\[\]])/g,"\\$1");var y,v=new RegExp(seperAR+"(.+?)"+seperBR,"gm"),_=[];u=u.replace(/[\r\n]/g,"").replace(v,function(t,e,n,r){return"${$"+(_.push(e)-1)+"$}$"}),u=u.replace(/[\t\n\r]/g,""),u=u.replace(/([\\'"])/g,"\\$1"),u=u.replace(/<!\-\-.*?\-\->/g,"").replace(/>(\s+?)/g,">").replace(/(\s+?)</g,"<"),u=u.replace(/\$\{\$(\d+)\$\}\$/g,function(t,e){if(y=_[e],y=y.replace(/(^\s+)|(\s+$)/gi,""))return"="==y.charAt(0)?'";_T_+='+y.substr(1)+';_T_+="':"#"==y.charAt(0)?'";_T_+=_$.safe('+y.substr(1)+');_T_+="':"{"==y.charAt(y.length-1)?'";'+y+'_T_+="':'";'+y+';_T_+="'}),u=u.replace(/(;+)/,";"),_=null;var b="$DATA=$DATA||{};with($DATA){try{"+(u='var _T_="'+u+'";function $Echo(s){_T_+=String(s);return _T_;}')+"}catch(e){$errFn(e);}return _T_;}",g=null;try{g=new Function("$DATA","$Tmpl","$errFn","$G","_$",b)}catch(t){console.error("Function error in template:%s\n====TempleContent:",u,b),console.error("ErroInfo:",t.stack||t),g=function(){}}l&&d&&(t[l]=g)}return g(o||{},l?function(t,n,r,i,o){return t==l?(console.error("模板{#%s}内存在调用死循环!",l),""):e(t,n,r,i,o)}:e,function(t){console.error("###Error in template["+l+"]",t.stack||t,"Temp:\n",g)},n,r)};return e.__cache=t,e}();GY.extend("tpl",{getHTML:i,parse:i,$G:n,_ver:"0.1.1"})}(0,window),function(t){var e=function(){var t=[],e=[],n="data-lazy",r=0,i=30,o=!0,a="",c=.2,s=6,u=0,l=0,f="1",p=0,d=function(){u=window.scrollY||document.body.scrollTop,l=(window.scrollY||document.body.scrollTop)+screen.availHeight},h=function(t){d(),h.has_init||(h.has_init=!0,$(document).on("scroll",b).on("touchmove",b).on("touchend",b),fn_int=function(){})},g=function(){r--,t.length&&setTimeout(_load_img)},m=function(t){"2"==f&&($(t.target).parent().css("background-image"," url("+$(t.target).attr("src")+")"),$(t.target).hide());var e="1"==$(t.target).attr("_use_tran");v(t.target,e),g()},y=function(t){v(t.target,"1"==$(t.target).attr("_use_tran")),"2"==f?$(t.target).css("background-image","url("+a+")"):$(t.target).attr("src",a),g()},v=function(t,e){var n=$(t);n.off("load").off("error").off("abort"),e?(n.css({opacity:1}),setTimeout(function(){n.css({transition:"",opacity:""}),t.removeAttribute("_use_tran")},1e3*c)):n.css("visibility","visible")};_load_img=function(){if(!t.length||r>=s)console.log("[lazy_load]>>____no Imgs",t.length,r);else{r++;var e=t.pop();a?(e.itm.on("load",m),e.itm.on("error",y).on("abort",y)):e.itm.on("load",m).on("error",y).on("abort",m),"2"==f?e.itm.hide():e.itm.css("visibility","visible"),e.itm.attr("src",e.src).attr("_c_lazy_itm_",null),e.itm.parent().hasClass("background-lazy")&&e.itm.parent().removeClass("background-lazy")}};var _=GY.rateControll(function(){if(d(),e.length){for(var n,r=e.length,o=[];r-- >0;)(n=e[r]).itm&&n.itm.length&&n.itm.get(0).parentNode&&("pos"in n&&n.pos.top<=l&&n.pos.bottom>=u||(n.pos={})&&(n.pos.top=n.itm.offset().top-i)<=l&&(n.pos.bottom=n.itm.height()+n.pos.top+i)>=u?t.push(n):o.push(n));t.sort(function(t,e){return t.pos.top<e.pos.top?1:t.pos.top==e.pos.top?0:-1}),e.length=0,o.length&&(o.unshift(0,0),e.splice.apply(e,o)),t.length&&_load_img()}},.2),b=GY.rateControll(function(){$("img["+n+"]").each(function(t,r){(r=$(r)).attr(n)&&(r.attr("_c_lazy_itm_"),o?(r.attr("_use_tran",1),r.css("opacity",p),r.css("transition","opacity "+c+"s")):r.css("visibility","hidden"),e.push({itm:r,src:r.attr(n)})),r.attr(n,null)}),e.length&&_(),t.length&&_load_img()},.1);return function(t){f=t&&t.load_ele_type?t.load_ele_type:"1",t&&t.opacity&&(p=t.opacity),t&&t.offset&&(i=t.offset),h(t),t&&t.lazyProperty&&(n=t.lazyProperty),t&&!isNaN(t.maxItemLoaders)&&t.maxItemLoaders-0==t.maxItemLoaders&&(s=Math.max(t.maxItemLoaders-0,1)),t&&t.rollBackImg&&(a=t.rollBackImg),t&&t.transIn?(isNaN(t.transIn)&&t.transIn-0==t.transIn?(c=t.transIn/1e3)<0&&(c=0):c=.3,o=!0):t&&"transIn"in t&&(o=!1),d(),b()}}();GY.extend("Util.img",{lazyImages:e})}(),function(t){GY.extend("Util.window",{getScrollTop:function(){var t;return window.pageYOffset?t=window.pageYOffset:document.compatMode&&"BackCompat"!=document.compatMode?t=document.documentElement.scrollTop:document.body&&(t=document.body.scrollTop),t},textareaAdapt:function(){$(function(){$("textarea").on("input",function(t){$(this).height(this.scrollHeight)})})},pageShow:function(){window.addEventListener("pageshow",function(t){t.persisted&&window.location.reload()})}})}(),function(t){function e(t){var e=location.search.substr(1),n=r.string.toObj(e),i=t?n[t]:n;return"string"==typeof i?r.string.toSafe(decodeURIComponent(i)):""}function n(){return location.origin?location.origin+location.pathname:function(){var t=location.href,e=t.lastIndexOf("#");return e>0&&(t=t.substring(0,e)),(e=t.lastIndexOf("?"))>0&&(t=t.substring(0,e)),t}()}var r=require("Util");GY.extend("Util.uri",{getUriPar:e,getHashPar:function(t){var e=location.hash.substr(1),n=r.string.toObj(decodeURIComponent(e)),i=t?n[t]:n;return"string"==typeof i?r.string.toSafe(i):i},getUri:function(){return location.href},getHost:function(){return location.host},getPath:n,getOriginHref:function(){var t=location.search,r=e("code");t=t.indexOf("?code=")>-1?t.replace("code="+r,""):t.replace("&code="+r,"");var i=e("state");return t=t.indexOf("?state")>-1?t.replace("state="+i,""):t.replace("&state="+i,""),n()+("?"==t?"":t)+location.hash}})}(),function(t){var e=navigator.userAgent||"",n=e.match(/(iPad).*OS\s([\d_]+)/),r=!n&&e.match(/(iPhone\sOS)\s([\d_]+)/),i=e.match(/(iPod).*OS\s([\d_]+)/),o=e.match(/(Android)\s+([\d.]+)/)||e.match(/Android/),a=e.match(/Windows Phone ([\d.]+)/),c={iPad:n,iPhone:r,android:o,wp:a,isMobile:!!(n||r||n||a||o)},s=function(){var t;return r||n||i?t="ios":o?t="android":a&&(t="wp"),t}(),u=function(){var t=e.match(/MicroMessenger\/([\d\.]+)/i),n=e.match(/QQ\/([\d\.]+)/),r=e.match("Qzone"),i=e.match(/Now\/([\d\.]+)/),o=e.match("QQBrowser"),a=e.match("qqnews"),c=e.match("QQMusic"),s=e.match("qqlive"),u="";return n?u="qq":r?u="qzone":t?u="wx":o?u="mqqbrowser":i?u="Now":a?u="qqnews":c?u="qqmusic":s&&(u="qqlive"),u}();GY.extend("browser",{os:c,platform:s,client:u})}(),function(t,e){function n(t){var e={rulePar:"a"},n="";$.extend(e,t),n=e.rulePar,n=1==e.hash?i.uri.getHashPar(n):i.uri.getUriPar(n),o=n?"action_"+n:"action_index"}function r(){"function"==typeof GY.Busi.pageInit&&GY.Busi.pageInit(),"function"==typeof GY.Busi[o]&&GY.Busi[o]()}var i=require("Util");if(e.GY){var o="action_index";GY.extend("Sys",{run:function(t){n(t);var e=!1;!!t&&!!t.hash&&(e=!0),e?($(window).bind("hashchange",function(){n(t),r()}),r(),_isInitHash=!0):r()},ajax:function(t){var e={type:"GET",dataType:"jsonp",timeout:8e3};t&&GY.is_obj(t)&&$.extend(e,t),e.error=function(n,r){try{var o={msg:r||""},a=0;"timeout"==r&&(a=1);var c="接口错误";"json"==e.dataType&&!!n.readyState&&(o.res=n.responseText),1==a&&(o.timeout=e.timeout||0,c="接口超时"),GY.Sys.rpt.info("url:"+e.url+"; par:"+i.object.toStr(e.data)+";ext:"+i.object.toStr(o),!0),GY.Sys.rpt.gyErr({t:c,par:{url:e.url,reqData:e.data,ext:o||""}})}catch(t){}t&&GY.is_fun(t.error)&&t.error(n,r)},"GET"==e.type&&"json"!=e.dataType&&(e.jsonp="jsoncallback",e.jsoncallback="?"),$.ajax(e)},__init:function(){!GY.user&&(GY.user={uid:"",nick:"",face:""})},getActionName:function(){return o}})}}(0,window),function(t){function e(){if(GY.user.uid&&!O&&!r){var t="_wnm_u_"+GY.user.uid;s.uin=GY.user.uid,s.report=(s.url||"/badjs")+"?id="+s.id+"&uin="+GY.user.uid+"&";var e=function(t,e,n){if(t){var i=window.localStorage||window.sessionStorage;if(void 0==e){var a,c=i.getItem(t);if(c)try{return(a=JSON.parse(c)).ex&&a.ex<o?(i.remove(t),a=void 0):a="ex"in a?a.d:a,a}catch(t){a=void 0}}else n=n||36e6,i.setItem(t,JSON.stringify({d:e,ex:o+1e3*n})),r=!0}};if(a=e(t))return console.log("Lsc get white name!"),void(r=!0);if(1!=sessionStorage.getItem("isInitWuser")){var i=__CONF__.cgiUrl1+"/cgi-bin/white_list.fcgi",o=(new Date).getTime(),a=0,c={url:i,data:{uid:GY.user.uid},success:function(i){i&&!i.code&&i.data&&1==i.data.status&&(!i.data.expr||i.data.expr>o)?(a=1,r=!0,n(),e(t,a,Math.min(864e6,i&&i.data.expr?(i.data.expr-(new Date).getTime())/6e4:864e6))):a=0},complete:function(){sessionStorage.setItem("isInitWuser",1)}};setTimeout(function(){GY.Sys.ajax(c)},1e3)}}}function n(){!k&&s.uin&&r&&(j.gyWhite({t:"页面访问",get_par:location.search||"-",hash:location.hash||"-"}),k=!0)}var r=!1,i=[],o=[],a={},c={},s={id:1188,uin:0,url:"",combo:1,ext:null,level:4,ignore:[],random:1,delay:1e3,submit:null,repeat:5,bjRptUrl:"",gyRptUrl:"http://yundonate.gongyi.qq.com/cgi-bin/WhiteReportMsg.fcgi",isGyRpt:0,gyRandom:0},u=function(t,e){return Object.prototype.toString.call(t)==="[object "+(e||"Object")+"]"},l=function(t){return"object"===typeof t&&!!t},f=function(t){return null===t||!u(t,"Number")&&!t},p=t.onerror;t.onerror=function(e,n,r,i,o){var a=e;o&&o.stack&&(a=h(o)),u(a,"Event")&&(a+=a.type?"--"+a.type+"--"+(a.target?a.target.tagName+"::"+a.target.src:""):""),j.push({msg:a,target:n,rowNum:r,colNum:i}),S(),p&&p.apply(t,arguments)};var d=function(t){try{if(t.stack){var e=t.stack.match("https?://[^\n]+"),n=(e=e?e[0]:"").match(":(\\d+):(\\d+)");return n||(n=[0,0,0]),{msg:h(t),rowNum:n[1],colNum:n[2],target:e.replace(n[0],"")}}return t.name&&t.message&&t.description?{msg:JSON.stringify(t)}:t}catch(e){return t}},h=function(t){var e=t.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),n=t.toString();return e.indexOf(n)<0&&(e=n+"@"+e),e},g=function(t,e){var n=[],r=[],i=[];if(l(t)){t.level=t.level||s.level;for(var o in t){var a=t[o];if(!f(a)){if(l(a))try{a=JSON.stringify(a)}catch(t){a="[BJ_REPORT detect value stringify error] "+t.toString()}i.push(o+":"+a),n.push(o+"="+encodeURIComponent(a)),r.push(o+"["+e+"]="+encodeURIComponent(a))}}}return[r.join("&"),i.join(","),n.join("&")]},m=[],y=function(t){if(s.submit)s.submit(t);else{var e=new Image;m.push(e),e.src=t}},v=function(t,e){if(!l(t))return!0;var n=t.msg;return("gy"==e?c[n]=(parseInt(c[n],10)||0)+1:a[n]=(parseInt(a[n],10)||0)+1)>s.repeat},_=[],b=[],w=0,x=0,S=function(t){T("gy",t),T("badjs",t)},T=function(t,e){var n="gy"==t,r=n?s.gyRptUrl:s.bjRptUrl;if(r){for(var a=n?o:i,c=n?b:_;a.length;){var l=!1,f=a.shift();if(!v(f,t)){var p=g(f,c.length);if(u(s.ignore,"Array"))for(var d=0,h=s.ignore.length;d<h;d++){var m=s.ignore[d];if(u(m,"RegExp")&&m.test(p[1])||u(m,"Function")&&m(f,p[1])){l=!0;break}}l||(s.combo?c.push(p[0]):y(r+p[2]+"&_t="+ +new Date),s.onReport&&s.onReport(s.id,f))}}if(c.length){var S=function(){_.length&&(clearTimeout(w),y(s.bjRptUrl+_.join("&")+"&count="+_.length+"&_t="+ +new Date),w=0,_=[])},T=function(){b.length&&(clearTimeout(x),y(s.gyRptUrl+b.join("&")+"&count="+b.length+"&_t="+ +new Date),x=0,b=[])};e?n?T():S():n&&!x?x=setTimeout(T,s.delay):w||(w=setTimeout(S,s.delay))}}},j=t.BJ_REPORT={push:function(t,e){if(Math.random()>=s.random)return j;var n=l(t)?d(t):{msg:t};return s.ext&&!n.ext&&(n.ext=s.ext),n.from||(n.from=encodeURIComponent(location.href)),"gy"==e?o.push(n):i.push(n),S(),j},report:function(t){return t&&j.push(t),S(!0),j},info:function(t,e,n){if(r||e)return t?(l(t)?t.level=2:t={msg:t,level:2},"gy"==n?j.push(t,"gy"):j.push(t),j):j},gyInfo:function(t,e,n){if(!r&&Math.random()>=s.gyRandom&&!n)return j;s.report=s.gyRptUrl,s.isGyRpt=1;var i={class:"performace",type:"page",i:location.pathname||"",m:GY.browser.client,msg:t};return r&&(i.class="white"),e&&$.extend(i,e),this.info(i,!0,"gy")},gyErr:function(t,e){return e||((e={}).class="error"),this.gyInfo(t,e,!0)},gyWhite:function(t,e){if(r)return this.gyInfo(t,e,!0)},debug:function(t,e){if(r||e)return t?(l(t)?t.level=1:t={msg:t,level:1},j.push(t),j):j},init:function(t){if(l(t))for(var e in t)s[e]=t[e];var r=parseInt(s.id,10);if(r){console.log("localhost:"+location.hostname),/qq\.com$/gi.test(location.hostname)&&(s.url||(console.log("qq domain"),s.url="//badjs2.qq.com/badjs"),s.uin||(s.uin=GY.user.uid||0));var a="?id="+r+"&uin="+s.uin+"&";s.report=(s.url||"/badjs")+a,s.bjRptUrl=s.report,s.gyRptUrl=s.gyRptUrl+a}return(i.length||o.length)&&S(),n(),j},__onerror__:t.onerror};"undefined"!=typeof console&&console.error&&setTimeout(function(){var t=((location.hash||"").match(/([#&])BJ_ERROR=([^&$]+)/)||[])[2];t&&console.error("BJ_ERROR",decodeURIComponent(t).replace(/(:\d+:\d+)\s*/g,"$1\n"))},0);var C=function(t){"object"==typeof window.wx&&"function"==typeof wx.ready&&wx.ready(t)},O=!1,k=!1;GY.extend("Sys.rpt",$.extend({__init:function(){GY.browser&&"wx"==GY.browser.client?C(function(){j.init(t.bjConf)}):j.init(t.bjConf),e()},getConf:function(){return s},setConf:function(t){if(t&&l(l))for(var e in t)s[e]=t[e]},initWhiteUser:e,chkWhite:function(){return!!r}},j))}(window),function(t){function e(t,e,n){var r=document.createElement("script");r.onerror=r.onabort=function(n){r.onload=r.onerror=r.onabort=null,console.log("script %s load faild!",t),e&&e(r,!1)},r.onload=function(){r.onload=r.onerror=r.onabort=null,e&&e(r,!0),setTimeout(function(){try{r.parentNode&&r.parentNode.removeChild(r)}catch(t){}},.1)},r.type="text/javascript",n&&r.setAttribute("charset",n),r.setAttribute("src",t),console.log("new script:",r),document.getElementsByTagName("head")[0].appendChild(r)}function n(){for(;p.length;)o(p.shift())}function r(t,e,n){var r=(new Date).getTime();if(void 0==e){var i;try{i=JSON.parse(d.getItem(t)||"null")}catch(t){i=null}return!i||i.e<r?(d.removeItem(t),null):i.d}var o=r+1e3*(n||86400);console.log("[KTIPS]Expired at:%s",o),d.setItem(t,JSON.stringify({e:o,d:e}))}function i(t,e){setTimeout(function(){if(window.MtaH5)try{MtaH5.clickStat(t,e)}catch(t){console.log(t.stack||t)}},200)}function o(t){var d=(new Date).getTime();if(t)if(console.log("Args inti",t),"string"!=typeof t){var h=t.opt||{groupId:0,duration:604800},g=((new Date).getTime(),h.groupId||0),m=1e3*(h.duration||604800),y=null;if(console.log("[KTIPS]beg:%d,curdate:%s",1e3*(h&&h.begin),d,h.begin&&1e3*h.begin>d),console.log("[KTIPS]end:%d,curdate:%s",1e3*(h&&h.end),d,h.end&&1e3*h.end<d),!t.data||!t.data.length||h.begin&&1e3*h.begin>d||h.end&&1e3*h.end<d||(y=r(f))&&y[g]&&y[g]+m>d)console.log("[KTIPS]--ENot show");else if(a)p.push(t);else if(u||GY.Util&&"function"==typeof GY.Util.kTips){if(!(l=GY.Util.kTips||window.kTips))return void console.log("[KTIPS]No cls defined:%o",l);var v=t._cbFn,_=(t.opt||{}).groupId||0;t._cbFn&&delete t._cbFn,t.opt&&delete t.opt;var b=new l(t).init();console.log("[KTIPS]Cls:%o",l),i("ktips",{show:_});var w=r(f)||{};w[_]=(new Date).getTime(),r(f,w,62208e4),"function"==typeof v&&v(b)}else p.push(t),a=!0,e(c+s[window.Swipe?"ktips":"ktips.swip"]+".js",function(){console.log("Script loaded",window.kTips),a=!1,u=!0,l=GY.Util.kTips||window.kTips,n()})}else{var x=/(&|\?)((jsonpCallback)|(callback))=([^&#\s]+)/gi.exec(t);x?$.ajax({url:t,jsonpCallback:x[5],success:function(t){o(t)}}):e(t,function(t,e){window._ktips_config?(o(window._ktips_config),delete window._ktips_config):console.log("No config fund")})}}var a=!1,c="/js/static/lib/",s={ktips:"lib.ktips.0.0.1.min","ktips.swip":"lib.ktips.swip.0.0.1.min"},u=!1,l=null,f="_gy_ktips_",p=[],d=localStorage||sessionStorage;GY.extend("Busi",{initKtips:o,loadscript:e})}();var __CONF__={cgiUrl1:Protocol+"ssl.gongyi.qq.com",HOMEPAGE:"//ssl.gongyi.qq.com/m/weixin/index2_gzzh.htm"};!function(t){var e=window.GYCONF&&window.GYCONF.gyPlatform?window.GYCONF.gyPlatform:"def",n={def:"1800001841",weself:"1800001841",good_thing:"1800005211",hk_pay:"3900000011"},r={appid:{def:"wxc0db45f411664b2e",weself:"wx7a196cf46f10944f",good_thing:"wx48fcd4e1feab09f0",hk_pay:"wx469f23412a57e9a4"}[e],we_spid:n[e]||"1800001841",defaultNick:"爱心网友",defaultImg:"http://mat1.gtimg.com/gongyi/m/gylc/love_head.jpg",defaultWsImg:"http://mat1.gtimg.com/gongyi/weself/v1/defaultFace.png",mtaPar:{sid:500113607,cid:500117735},wxUidLocKey:"gy_wx_unionid",wxUNickLocKey:"gy_wx_uNick",wxUFaceLocKey:"gy_wx_uFace"};r.localOidKey="openidwxa"+r.appid,r.wxappid=r.appid,!!window.GYCONF&&$.extend(r,window.GYCONF),GY.extend("Busi.config",{get:function(t){return t&&r[t]?r[t]:r},set:function(t,e){!e&&GY.is_obj(t)?!!t&&$.extend(r,t):t&&e&&(r[t]=e)}})}(),function(){var t={appid:"1801109744"};!!window.GYCONF&&$.extend(t,window.GYCONF),GY.Busi.config.set(t)}(),function(t,e){function n(t){if(console.log("body clik"),window.MTA_NOT_AUTO||!window.MtaH5)return $(document.body).off("click",n),void console.log("click removed!");window.objMta=t.target;var e=$(t.target).closest("["+i.mta_prop+"]"),r=e.attr(i.mta_prop),o=e.attr(i.mta_propVal);if(r){if(o){var a=o,c=[JSON.parse,eval];if(/\{.+\}/gi.test(a))for(var s=0,u=c;s<u;s++)try{o=c[s](a)||null;break}catch(t){}(!o||"string"==typeof o||"number"==typeof o)&&(o={},o[a]=!0)}try{o?MtaH5.clickStat(r,o):MtaH5.clickStat(r)}catch(t){}}else console.log("not mta..",r)}function r(t){if(t=t||{},window.MTA_PROP_NM&&!t.mta_prop&&(t.mta_prop=MTA_PROP_NM),window.MTA_PROP_VAL_NM&&!t.mta_propVal&&(t.mta_propVal=MTA_PROP_VAL_NM),t)for(var e in t)i[e]=t[e];$(document.body).off("click",n).on("click",n)}var i={mta_prop:"data-mta",mta_propVal:"data-mta-param"};e._mtac={performanceMonitor:1,senseQuery:1};var o=GY.Busi.config.get();GY.extend("Sys.mta",{__init:function(t){if(!e.MtaH5||t){var n=o.mtaPar;!!t&&$.extend(n,t),function(){var t=document.createElement("script");t.src="//pingjs.qq.com/h5/stats.js?v2.0.2",t.setAttribute("name","MTAH5"),t.setAttribute("sid",n.sid),t.setAttribute("cid",n.cid);var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e),window.MTA_NOT_AUTO||r()}()}},click:function(t){try{var e=t&&t.t?t.t:"click",n=t&&t.p?t.p:{def:"true"};!!MtaH5&&MtaH5.clickStat(e,n)}catch(t){}},init:r})}(0,window),function(t,e){function n(){var t=0,e=i.getStorage(c);return e&&"undefined"!=e&&void 0!=e&&(t=parseFloat(e.replace("o",""))),t}function r(t){var n={};if(!!t&&(n=e.extend(n,t)),!GY.user.uid||n.isForce){var r=9;"iphone os"==navigator.userAgent.toLowerCase().match(/iphone os/i)&&(r=8),sessionStorage.setItem("login",1),location.href="http://ui.ptlogin2.qq.com/cgi-bin/login?style="+r+"&appid=30000101&low_login=0&hln_css=http%3A%2F%2Fmat1.gtimg.com%2Fgongyi%2Fm%2Fhtml5%2Flogo_login.png&s_url="+encodeURIComponent(location.href)}else n.callback&&GY.is_fun(n.callback)&&n.callback()}var i=require("Util"),o=require("Busi"),a=require("Sys"),c=(o.config.get(),"uin");GY.extend("Busi.authorize",{__init:function(){GY.user.uid=n(),GY.user.uid&&(GY.user.face="http://q.qlogo.cn/g?b=qq&s=40&nk="+GY.user.uid,mqq&&mqq.data.getUserInfo(function(t){GY.user.nick=t.nick}),a.rpt.initWhiteUser())},encodeToken:function(t){var e=t||GY.Util.cookie.get("skey"),n=3308;if(!e)return!1;for(var r=0,i=e.length;r<i;++r)n+=(n<<5)+e.charAt(r).charCodeAt();return 2147483647&n},login:r,ckLogin:function(t){var n={};return!!t&&(n=e.extend(n,t)),!(110021<=n.code&&110027>=n.code&&(n.callback&&GY.is_fun(n.callback)&&n.callback(),r({isForce:!0}),1))}})}(0,Zepto),function(nameSpace,$){function _set(t){if(GY.is_obj(t))for(var e in t)retObj[e]=t[e]}function _submit(t){if(isCkOrdFlg=!1,1!=retObj.isWaitPay){if(retObj.checkTimes=0,t&&t.smoney){var e={};e.money=t.smoney,t.opar=encodeURIComponent(GY.Util.object.toString(e))}if("qq"!=GY.browser.client)return retObj.isCkOrd=!0,void(t&&"mweb"==t.tradeType?_paySubmitWx3rdApp(t):_paySubmit3rdApp(t));if(GY.user.uid){if(!!t&&$.extend(_par,t),_checkPar(_par)){_getPay(retObj.ENTRY_URL+"?"+Util.object.toStr(_par),function(t){if(retObj.isWaitPay,void 0===t.status&&void 0!==t.code&&(t.status=t.code,!!t.data&&$.extend(t,t.data)),0!=t.status||!t.token_id)return 99==t.status?void Busi.authorize.login():void _getTadErr(t.status);var e=t.trade_no;Util.setStorage("transcode"+_config.appid,e),retObj.trade_no=e,t.domain&&(retObj.domain=t.domain);var n={app_info:"appid#"+_par.appid+"|bargainor_id#"+t.spid+"|channel#"+(channel||"wallet"),token_id:t.token_id,order_no:t.token_id,callback_name:"GY.Busi.pay.toResult",version:1,src_type:"web",callback_type:"javascript"},r=0;switch("undefined"!=typeof mqq&&mqq&&(r=mqq.android?1:mqq.iOS?2:0),r){case 1:mqq.tenpay.pay({tokenId:n.token_id,appInfo:n.app_info,pubAcc:0,pubAccHint:""},function(t){0==t.resultCode?_toResult(0):_payCallback(CONST_MSG.cancel)});break;case 2:window.open("mqqapiwallet://wallet/pay?"+Util.object.toStr(n),"_self");break;default:alert("mqq.device.getDeviceInfo error = "+client)}})}}else Busi.authorize.login()}}function _paySubmitWx3rdApp(t){if(_par.appid=_config.wxappid,_par.oid="guest_oid",_par.busi_type="WXM",_par.trade_type="MWEB",_par.guin="",_par.oid="",!!t&&$.extend(_par,t),_checkPar(_par)){var e="/cgi-bin/WXUnifiedDonateEntry?"+Util.object.toStr(_par);Sys.ajax({url:e,success:function(t){if(retObj.isWaitPay=0,0==t.ret&&t.info){var e=t.info,n=e.trade_no;retObj.trade_no=n;var r="";_par.redirect_url&&(r="&redirect_url="+encodeURIComponent(_par.redirect_url+n));var i=e.package.substr(9);location.href=i+r,GY.is_fun(retObj.noWxCallback)?setTimeout(function(){retObj.noWxCallback()},1e3):setTimeout(function(){window.confirm(CONST_MSG.mweb_confirm.msg)?_toResult(0):_payCallback(CONST_MSG.cancel)},2e3)}else _getTadErr(t.ret)},error:function(t){_payCallback(CONST_MSG.busy)},fail:function(t){_payCallback(CONST_MSG.busy)},timeout:8e3})}}function _paySubmit3rdApp(t){if(_par.busi_type="MQM",!GY.user.uid||GY.user.uid.toString().length>11)Busi.authorize.login({isForce:!0});else if(!!t&&$.extend(_par,t),_checkPar(_par)){var e=retObj.ENTRY_URL+"?"+Util.object.toStr(_par);Sys.ajax({url:e,success:function(t){if(0!=t.status||!t.token_id)return 99==t.status?void Busi.authorize.login():void _getTadErr(t.status);retObj.trade_no=trade_no=t.trade_no;var e={ios:{wx:"weixin",qzone:"mqzone",mqqbrowser:"mttbrowser",Now:"tnow://openpage/main?",qqnews:"qqnews",qqmusic:"qqmusic",qqlive:"qqlive"},android:{wx:"com.tencent.mm",qzone:"com.qzone",mqqbrowser:"com.tencent.mtt",Now:"tnow://openpage/main?",qqnews:"com.tencent.news",qqmusic:"com.tencent.qqmusic",qqlive:"com.tencent.qqlive"}},n=encodeURIComponent(e[GY.browser.platform][GY.browser.client]),r={t:t.token_id,_wv:1027,app_jump:1,scheme:n,schema:n},i="https://myun.tenpay.com/mqq/pay/index.shtml?";i+=Util.object.toStr(r);var o="mqqapi://forward/url?src_type=web&style=default&version=1&url_prefix="+window.btoa(i);location.href=o,GY.is_fun(retObj.noMqCallback)?retObj.noMqCallback():setTimeout(function(){window.confirm(CONST_MSG.mq_confirm.msg)?_toResult(0):_payCallback(CONST_MSG.cancel)},2e3)},error:function(t){_payCallback(CONST_MSG.busy)},fail:function(t){_payCallback(CONST_MSG.busy)},timeout:8e3})}}function _payCallback(t){retObj.isWaitPay=0,!!reqPar&&(reqPar.tradeno=retObj.trade_no);try{sessionStorage.setItem("appPayReq",Util.object.toString(reqPar))}catch(t){}t.code==CONST_MSG.ckvErr.code&&(t.msg=CONST_MSG.ckvErr.msg);var e=!1;(parseInt(t.code)<=1||parseInt(t.ret)<=1)&&(e=!0),t.isAlert&&alert(t.msg),t.code==CONST_MSG.cancel.code&&GY.is_fun(retObj.cancel)?retObj.cancel(t):e&&GY.is_fun(retObj.success)?(sessionStorage.setItem("tradeInfoCache",Util.object.toString(t)),retObj.success(t)):!e&&GY.is_fun(retObj.fail)?retObj.fail(t):GY.is_fun(retObj.payCallback)&&retObj.payCallback(t);try{parseInt(t.code)<=1||parseInt(t.ret)<=1||3011==t.code?Sys.rpt.gyInfo({t:"支付回调 mq",req:reqPar||"",res:t}):Sys.rpt.gyErr({t:"支付错误 mq",code:t.ret||t.code||-1,req:reqPar||"",res:t})}catch(t){}}function _qryTradeInfo(par){var transcode=par.transcode,testName="";if(null!=sessionStorage.getItem("tradeInfoCache")&&par.cache){var tradeInfo=eval("("+sessionStorage.getItem("tradeInfoCache")+")");if(sessionStorage.removeItem("tradeInfoCache"),transcode==tradeInfo.data.transcode)return void par.success(tradeInfo.data)}var trade_url=_config.cgiUrl1+"/cgi-bin/"+testName+"1799_query_order";if(par.expire)trade_url=_config.cgiUrl1+"/cgi-bin/"+testName+"GetTransData.fcgi";else{var trans_year=transcode.substring(10,14),trans_month=transcode.substring(14,16),trans_day=transcode.substring(16,18),trans_time=trans_year+"/"+trans_month+"/"+trans_day+" 00:00:00",_now=Date.parse(new Date);par.time&&(parseInt(par.time)!=par.time?_now=Date.parse(new Date(par.time.replace(/-/g,"/"))):(_now=par.time,par.time.toString().length<13&&(_now=1e3*par.time)));var _days=(_now-Date.parse(trans_time))/864e5;_days>7&&(trade_url=_config.cgiUrl1+"/cgi-bin/GetTransData.fcgi")}var _par={transcode:transcode,type:"crtrans_proj_base_info",hk:Busi.authorize.encodeToken(GY.user.uid+transcode),uid:GY.user.uid};Sys.ajax({url:trade_url,data:_par,success:function(t){if(0==t.code){if(t.data=t.data?t.data:t.info,"function"==typeof par.success){var e=!0;"wx"==GY.browser.client&&t.data.openid!=GY.user.uid&&(e=!1),"wx"!=GY.browser.client&&t.data.uin!=GY.user.uid&&(e=!1),t.data.is_owner=e,t.data.op_time=t.op_time||t.time,par.success(t.data)}}else Busi.authorize.ckLogin({code:t.code})&&("function"==typeof par.fail?par.fail(t):GY.wd.dialog.dialog({msg:"订单查询失败："+t.code}))},error:function(t){"function"==typeof par.error?par.error(t):GY.wd.dialog.dialog({msg:"订单查询失败"})}})}function _getTadErr(t){if(t)return t==CONST_MSG.exe_status.code?_payCallback(CONST_MSG.exe_status):t==CONST_MSG.end_status.code?_payCallback(CONST_MSG.end_status):(CONST_MSG.thr_ret.code=t,_payCallback(CONST_MSG.thr_ret)),!1}function _checkPar(t){var e=!0;return reqPar=t,(!t.money||t.money<=0||t.money>=21e8)&&(CONST_MSG.par.field="money",e=!1),(!t.actid||t.actid<=0)&&(CONST_MSG.par.field="actid",e=!1),_par.entry_type=_par.entry_type.substr(0,10),_par.money=parseInt(Math.round(1e3*_par.money/10)),!!e||(_payCallback(CONST_MSG.par),!1)}function _getPay(t,e){t&&GY.is_fun(e)&&Sys.ajax({url:t,success:e,error:function(t){_payCallback(CONST_MSG.busy)},fail:function(t){_payCallback(CONST_MSG.busy)},timeout:8e3})}function _toResult(t){0==t?(retObj.isCkOrd&&(_interval=setInterval(_gyCheckTradeNo,5e3)),_gyCheckTradeNo()):_payCallback(CONST_MSG.cancel)}function _gyCheckTradeNo(){if(retObj.checkTimes++,!retObj.isCkOrd){if(_interval&&(clearInterval(_interval),retObj.checkTimes>1))return;if(isCkOrdFlg)return;return isCkOrdFlg=!0,void _payCallback({ret:1,code:0,info:{openid:GY.user.uid,id:reqPar.actid,transcode:retObj.trade_no,money:reqPar.money,et:reqPar.entry_type||"",gt:reqPar.gt||"",nickname:GY.user.nick}})}if(retObj.checkTimes>retObj.maxCheckTimes)window.confirm("正在确认捐赠结果，请以捐赠记录为准")?location.href="/user_center/":_payCallback(CONST_MSG.cancel);else{var t={transcode:retObj.trade_no},e=__CONF__.cgiUrl1+retObj.QRY_ORDER_URL+"?"+Util.object.toStr(t);Sys.ajax({url:e,success:function(t){t&&1==t.ret&&clearInterval(_interval),(!!t.ret||0==t.ret)&&(t.code=t.ret)||$.extend(t,CONST_MSG.sysErr),1==t.ret&&(t.code=0),_payCallback(t)}})}}var Util=require("Util"),Sys=require("Sys"),Busi=require("Busi"),et=Util.uri.getUriPar("et")||"pv1.1",wxoid=GY.user.uid,retObj={},_checkTimes=0,_interval,_config=Busi.config.get(),channel=channel||Util.uri.getUriPar("channel")||"",reqPar={},isCkOrdFlg=!1,CONST_MSG={exe_status:{code:2,msg:"该项目募款已结束，请关注最新执行进展！"},end_status:{code:3,msg:"该项目募款已结束，请查看结项报告！"},thr_ret:{msg:"服务器忙，请稍后重试"},busy:{code:3016,msg:"前方拥堵，请多尝试几次！"},par:{code:3017,msg:"参数错误"},money_err:{code:30024,msg:"您输入的金额有误!"},cancel:{code:3011,msg:"前方拥堵"},trade_confirm:{msg:"如果支付完成了可以查看订单。"},def_confirm:{msg:"正在确认捐赠结果，请以捐赠记录为准"},mweb_confirm:{msg:"已在微信上完成支付？"},mq_confirm:{msg:"已在手Q上完成支付？"},sysErr:{code:999,msg:"服务器忙，请稍后重试"},ckvErr:{code:-13200,msg:"正在确认捐赠结果，请以捐赠记录为准"}},_par={appid:_config.appid,skflag:1,money:0,tenpay_account:GY.user.uid,entry_type:Util.uri.getUriPar("et")?Util.uri.getUriPar("et"):"def",gf:"mq",bank_type:8001,busi_type:"MQM",oid:GY.user.uid,anon:0,guin:GY.user.uid};retObj={config:{},ENTRY_URL:"/cgi-bin/MQDonateEntryUnserializeL5",QRY_ORDER_URL:"/cgi-bin/WXQueryOrder",QRY_ORDER_OPAR:"",trade_no:"",isWaitPay:0,errMsg:"",checkTimes:0,maxCheckTimes:3,isCkOrd:!0,domain:"",paySubmit:_submit,gyCheckTradeNo:_gyCheckTradeNo,qryTradeInfo:_qryTradeInfo,toResult:_toResult,set:_set},GY.extend(nameSpace,retObj)}("Busi.pay",Zepto),function(t,e){var n={img_url:"",img_width:"120",img_height:"120",link:document.location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+location.pathname+"?et=mqsh",desc:"",title:""};GY.extend("Busi.sns",{init:function(t){!!t&&e.extend(n,t)},hideShare:function(){},share:function(t){t&&e.extend(n,t),"undefined"!=typeof mqq&&mqq&&"qzone"!=GY.browser.client?mqq.data.setShareInfo({share_url:n.link,title:n.title,desc:n.desc,image_url:n.img_url},function(t){t&&"function"==typeof n.success&&n.success(t)}):"qzone"==GY.browser.client&&QZAppExternal.setShare(function(t){},{type:"share",image:[n.img_url,n.img_url,n.img_url,n.img_url,n.img_url],title:[n.title,n.title,n.title,n.title,n.title],summary:[n.desc,n.desc,n.desc,n.desc,n.desc],shareURL:[n.link,n.link,n.link,n.link,n.link]})},imagePreview:function(t,e){mqq&&mqq.media.showPicture({imageIDs:e,index:e.indexOf(t)>-1?e.indexOf(t):0,srcID:0})}})}(0,Zepto),function(t){var e=function(){function t(){e.curPage*e.perPage<e.sumNum&&$(window).bind("scroll",function(){var t=$(window).height()+GY.Util.window.getScrollTop();if($(document).height()<=t){if(e.curPage*e.perPage>=e.sumNum)return;if(!GY.Util.page.loading){e.curPage++;var n={curPage:e.curPage};e.fucName&&"function"==typeof e.fucName?e.fucName(n):e.curPage--}}}),GY.Util.page.loading=!1}var e={curPage:1,perPage:10,sumNum:10,fucName:function(){},type:1,_loading:!1};return GY.extend("Util.page",{loading:!1}),init=function(n){!!n&&$.extend(e,n),t()},init}();GY.extend("Util.page",{pagination:e})}();
/**
 * @customer gxb
 * @time 2018-01-26 10:38
 */
